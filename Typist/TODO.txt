Main unsolved problems:

- scrolling the text

- precise positioning (of error characters and cursor)

- changing settings at runtime



General:

- disable certain context menu items and/or keyboard shortcuts, when in practice mode

- font-related shortcuts: Ctrl +/- to make the font larger/smaller by 0.25pt, Ctrl+B an Ctrl+I to turn Bold and Italic on/off (change shortcut for Import to Ctrl+O)

- file reload (menu item and shortcut, Ctrl+R or Ctrl+L)

- add user setting: theme.CursorColor (or the theme name, e.g., "Default")

- use StatusStrip instead of Label as a status bar

- bug: when VisibleNewlines is true, if the pilcrow makes a paragraph one line longer, the cursor and the errors will appear one line too high compared to the text

- scroll the text up as the user is typing, if not all of it fits on the screen; keep the position of the current line around the middle of the screen

- change the name of the program/project to something more memorable than "Typist"



Low priority:

- allow non-ASCII input chars (including ALT-<key> combinations); test with Romanian chars (and French, and German); (for some reason, Alt-<key> combinations don't even arrive at the KeyPress event handler)

- different "themes", or settings: Article (eliminate multiple spaces), Code (leave spaces alone), Characters (large font)

- refactor the saving of window size/position/maximized(/minimized) into a reusable user control

- remove OpenType fonts (and other non-TrueType fonts) from Setup project

- add to Setup project: Start menu shortcuts, right-click menu "Open"



Paint event handler:

- avoid the cursor staying in the same place for two consecutive chars (at the beginning of line, after a long line that doesn't fit one more char); if the char has an empty rectangle (zero w/h), that means it's at the end of line, so draw the cursor/error to the right of the prev char, on the same line (leave an empty margin to the right of the form)

- test how it works with two or more spaces at the end of a screen line (but no '\n' char); do all of them have size zero?

- bug: with a non-fixed-width font (e.g., Verdana), chars on the last line being typed become misaligned, until typing past the end of the (screen) line

- align error highlight chars better with the rest of the text



* include the .msi file into the Git repository (VS 2008 Express Edition cannot open/build Setup projects)
* rename class Fonts to PredefinedFonts, with 3 static properties: Small, Large, and All; rename property FavoriteFonts (TypistForm) to PredefinedFonts (also, class FavoriteFont to PredefinedFont)
* add Consolas font to Setup project
* on the right-click menu: Settings dialog (at least beepOnError, pauseAfterElapsed, and theme.CursorColor, which I change all the time; maybe also allowBackspace, visibleNewlines, countWhitespaceAsWordChars, and eliminateMultipleWhitespace); shortcut: Ctrl-X
* flags: "eliminate multiple spaces" and "eliminate multiple spaces if not at beginning of line" (but leave newlines alone); better name: elimRedundantWhitespaces (or separately: spaces at beginning of line, at end of line, within the line, consecutive newlines)
* add a right-click menu, containing actions that are now keyboard shortcuts (Ctrl-P, Ctrl-M, Ctrl-F, Ctrl-S, Ctrl-N, Ctrl-Shift-N)
* add to the list of favorite fonts only those fonts that are installed on the current machine
* why is it that some OpenType fonts do not appear in the standard Font Dialog?
* create a Setup project; make it install fixed-pitch fonts (Anonymous Pro, Bitstream Vera Sans Mono, Andale Mono, etc.), if they don't yet exist on the machine
* shortcut: Ctrl-F for "Change Font", in dialog
* display Unicode chars
* refactor the "typing zone" of the form (the PictureBox with its Paint event handler) into a separate user control
* 'Open With...' from Windows Explorer
* bug: when window is maximized (or just wide), after an error it takes about half a second for the error rectangles to appear on screen (a very noticeable delay); (solved: the cause appears to be a slow audio card; turning theme.BeepOnError = false eliminates the delay)
* save window position between sessions (instead of always starting centered)
* color schemes (themes)
* bug for 'Ernest Hemingway.txt' file: when typing "non-fiction" (towards the end of the first paragraph), the "non-" stays on the preceding line (because of the dash)
* pause if minimized
* new program flag: cursorAsVerticalBar (false means underscore char, '_')
* new program flag: allowBackspace
* make Esc switch off PracticeMode
* catch Esc and Backspace keys while NOT in PracticeMode
* Tab chars ('\t') at the beginning of the line should advance the cursor to the first printable char (to be used with Code practice texts, e.g., Haskell or C# source code)
* deal with the end of the imported text (limit the length of the typed text, by blocking keyboard input; avoid exception/crash if the last char is an error)
* display underscore char ('_') separately, as a cursor (don't just append it to TypedText, but use the getRectangle method to position it on the screen)
* error: typing a printable char instead of a newline (show the char at the end of the line, in red)
* retrieve 32 rectangles at a time when displaying all uncorrected errors

*(o) set default font to Lucida Console (large)
*(o) allow button mnemonics (& in labels) only when Alt is pressed at the same time as the key (NOT: Alt, pause, key)
*(o) keep a MissingNewlines property in class TextBuffer; insert all missing newlines before showing TypedText on the screen, so that typed chars will always display on top of the originals (even after typing a printable char for a newline in the original)
